webpackJsonp([2,4,7],{"/7/g":function(e,t){},"9Jgq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),l=n.n(i),o={name:"IBaseChooser",props:{chooserTitle:{type:String,default:"chooserTitle"}},data:function(){return{showChooserModal:!1}},methods:{showModal:function(){this.showChooserModal=!0},hideModal:function(){this.showChooserModal=!1}}},s={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{attrs:{width:"950",title:e.chooserTitle,"footer-hide":!0,transfer:!1,"mask-closable":!1,styles:{top:"20px"}},model:{value:e.showChooserModal,callback:function(t){e.showChooserModal=t},expression:"showChooserModal"}},[n("div",{staticStyle:{"min-height":"380px"}},[e._t("default")],2)])},staticRenderFns:[]};var c=n("VU/8")(o,s,!1,function(e){n("HKsS")},"data-v-2d459247",null).exports,m=n("ZOWB"),h=n("iE3b"),u=n("T592"),p=n("gyMJ"),d=n("GCuT"),f={name:"EditElement",components:{IBaseChooser:c,Placement:m.default,Element:h.default,IFileUpload:u.a},data:function(){return{placement_types:{all:["placement_name","element_name","element_label","navigation_level","navigation_parent_id","content","imgpath","linked_refer","md_content"],text_link:["placement_name","element_name","element_label","linked_refer"],text_event:["placement_name","element_name","element_label","navigation_level","navigation_parent_id","content","imgpath","linked_refer","md_content"],img_text_link:["placement_name","element_name","element_label"],img_text_event:["placement_name","element_name","element_label","navigation_level","navigation_parent_id","content","imgpath","linked_refer","md_content"]},showPlacementTypeDesc:!1,showRemark:!0,placement:null,toolbars:{bold:!0,italic:!0,header:!0,underline:!0,superscript:!0,quote:!0,ol:!0,link:!0,imagelink:!0,help:!0,code:!0,subfield:!0,fullscreen:!0,readmodel:!0,undo:!0,trash:!0,save:!0,navigation:!0},visible_choose_element:!1,elements:[],formInline:{placement:"",element_label:"",element_name:"",navigation_level:0,navigation_parent_id:0,content:"",imgpath:"",linked_refer:"",md_content:""},ruleInline:{element_name:[{required:!0,validator:function(e,t,n){""===t?n(new Error("元素名称不能为空!")):t.indexOf("element_")<0?n(new Error("元素名称必须以 element_ 开头")):n()},trigger:"blur"}],element_label:[{required:!0,message:"Please fill in the element_label.",trigger:"blur"}]}}},methods:{checkShow:function(e){return null!=this.placement&&Object(d.g)(e,this.placement_types[this.placement.placement_type])},handleSubmit:function(){var e,t=this;this.$refs.formInline.validate((e=l()(r.a.mark(function e(n){var a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}return a=void 0==t.$route.query.id?0:t.$route.query.id,e.next=4,Object(p.t)(a,t.formInline.placement,t.formInline.element_name,t.formInline.navigation_level,t.formInline.navigation_parent_id,t.formInline.element_label,t.formInline.content,t.formInline.md_content,t.formInline.imgpath,t.formInline.linked_refer);case 4:"SUCCESS"==(i=e.sent).status?t.$Message.success("提交成功!"):t.$Message.error("提交失败!"+i.errorMsvg),e.next=9;break;case 8:t.$Message.error("校验不通过!");case 9:case"end":return e.stop()}},e,t)})),function(t){return e.apply(this,arguments)}))},handleGoBack:function(){this.$router.push({path:"/iwork/elementList",query:{placement_name:this.formInline.placement}})},chooseElement:function(e){this.formInline.navigation_level=e.navigation_level+1,this.formInline.navigation_parent_id=e.id,this.visible_choose_element=!1},showChooseElement:function(){var e=l()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(d.a)(this.formInline.placement)){e.next=5;break}return e.next=3,Object(p.F)(this.formInline.placement);case 3:"SUCCESS"==(t=e.sent).status&&(this.elements=t.elements);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),uploadComplete:function(e){"SUCCESS"==e.status&&(this.formInline.imgpath=e.fileServerPath)},refreshElement:function(){var e=l()(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p._5)(t);case 2:"SUCCESS"==(n=e.sent).status&&(a=n.element,this.formInline.placement=a.placement,this.formInline.element_name=a.element_name,this.formInline.element_label=a.element_label,this.formInline.content=a.content,this.formInline.md_content=a.md_content,this.formInline.imgpath=a.img_path,this.formInline.linked_refer=a.linked_refer);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshPlacement:function(){var e=l()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p._9)(t);case 2:"SUCCESS"==(n=e.sent).status&&(this.placement=n.placement);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},mounted:function(){this.formInline.placement=this.$route.query.placement_name,void 0!=this.$route.query.id&&this.$route.query.id>0&&this.refreshElement(this.$route.query.id),this.refreshPlacement(this.$route.query.placement_name)}},_={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.showRemark=!e.showRemark}}},[e._v("显示备注")]),e._v(" "),e.placement?n("Button",{attrs:{type:"warning",size:"small"},on:{click:function(t){e.showPlacementTypeDesc=!e.showPlacementTypeDesc}}},[e._v("\n    当前占位符类型:"+e._s(e.placement.placement_type)+"\n  ")]):e._e(),e._v(" "),e._l(e.placement_types,function(t,a){return n("p",{directives:[{name:"show",rawName:"v-show",value:e.showPlacementTypeDesc,expression:"showPlacementTypeDesc"}]},[n("span",{staticStyle:{display:"inline-block",width:"100px"}},[e._v(e._s(a)+":")]),e._l(t,function(t,a){return n("Tag",[e._v(e._s(t))])})],2)}),e._v(" "),n("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,"label-width":100}},[n("Row",[n("Col",{attrs:{span:"12"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemark&&e.checkShow("placement_name"),expression:"showRemark && checkShow('placement_name')"}],staticClass:"remark"},[e._v("备注：placement_name:仅做命名区分,不用于界面展示")]),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("placement_name"),expression:"checkShow('placement_name')"}],attrs:{label:"占位符"}},[n("Input",{attrs:{type:"text",readonly:"readonly",placeholder:"placement"},model:{value:e.formInline.placement,callback:function(t){e.$set(e.formInline,"placement",t)},expression:"formInline.placement"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemark&&e.checkShow("element_label"),expression:"showRemark && checkShow('element_label')"}],staticClass:"remark"},[e._v("备注：element_label:界面块元素名称,用于界面展示")]),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("element_label"),expression:"checkShow('element_label')"}],attrs:{prop:"element_label",label:"页面显示名称"}},[n("Input",{attrs:{type:"text",placeholder:"element_label"},model:{value:e.formInline.element_label,callback:function(t){e.$set(e.formInline,"element_label",t)},expression:"formInline.element_label"}})],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("navigation_parent_id"),expression:"checkShow('navigation_parent_id')"}],attrs:{prop:"navigation_parent_id",label:"父级关联 id"}},[n("Input",{staticStyle:{width:"80%"},attrs:{type:"text",readonly:"readonly",placeholder:"navigation_parent_id"},model:{value:e.formInline.navigation_parent_id,callback:function(t){e.$set(e.formInline,"navigation_parent_id",t)},expression:"formInline.navigation_parent_id"}}),e._v(" "),n("Poptip",{attrs:{placement:"left-start",width:"400"},on:{"on-popper-show":e.showChooseElement},model:{value:e.visible_choose_element,callback:function(t){e.visible_choose_element=t},expression:"visible_choose_element"}},[n("a",{attrs:{href:"javascript:;"}},[e._v("选择父级")]),e._v(" "),n("div",{staticStyle:{width:"100%"},attrs:{slot:"content"},slot:"content"},e._l(e.elements,function(t){return n("Tag",{staticStyle:{margin:"5px",float:"left"}},[n("span",{on:{click:function(n){e.chooseElement(t)}}},[e._v(e._s(t.element_label))])])}))])],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("content"),expression:"checkShow('content')"}],attrs:{prop:"content",label:"内容"}},[n("Input",{attrs:{type:"textarea",rows:3,placeholder:"content"},model:{value:e.formInline.content,callback:function(t){e.$set(e.formInline,"content",t)},expression:"formInline.content"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"12"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemark&&e.checkShow("element_name"),expression:"showRemark && checkShow('element_name')"}],staticClass:"remark"},[e._v("备注：element_name:仅做命名区分,不用于界面展示")]),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("element_name"),expression:"checkShow('element_name')"}],attrs:{prop:"element_name",label:"元素名称"}},[n("Input",{attrs:{type:"text",placeholder:"element_name"},model:{value:e.formInline.element_name,callback:function(t){e.$set(e.formInline,"element_name",t)},expression:"formInline.element_name"}})],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("navigation_level"),expression:"checkShow('navigation_level')"}],attrs:{prop:"navigation_level",label:"导航级别"}},[n("Input",{attrs:{type:"text",readonly:"readonly",placeholder:"navigation_level"},model:{value:e.formInline.navigation_level,callback:function(t){e.$set(e.formInline,"navigation_level",t)},expression:"formInline.navigation_level"}})],1),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("imgpath"),expression:"checkShow('imgpath')"}],attrs:{prop:"imgpath",label:"图片"}},[n("Input",{staticStyle:{width:"80%"},attrs:{type:"text",readonly:"readonly",placeholder:"imgpath"},model:{value:e.formInline.imgpath,callback:function(t){e.$set(e.formInline,"imgpath",t)},expression:"formInline.imgpath"}}),e._v(" "),n("IFileUpload",{attrs:{action:"/api/iwork/httpservice/isoft_linkknown_api/fileUpload",uploadLabel:"上传"},on:{uploadComplete:e.uploadComplete}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showRemark&&e.checkShow("linked_refer"),expression:"showRemark && checkShow('linked_refer')"}],staticClass:"remark"},[e._v("备注：linked_refer:链接地址、链接关键词等")]),e._v(" "),n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("linked_refer"),expression:"checkShow('linked_refer')"}],attrs:{prop:"linked_refer",label:"链接信息"}},[n("Input",{attrs:{type:"text",placeholder:"linked_refer"},model:{value:e.formInline.linked_refer,callback:function(t){e.$set(e.formInline,"linked_refer",t)},expression:"formInline.linked_refer"}})],1)],1)],1),e._v(" "),n("Row",[n("FormItem",{directives:[{name:"show",rawName:"v-show",value:e.checkShow("md_content"),expression:"checkShow('md_content')"}],attrs:{prop:"md_content",label:"markdown内容"}},[n("mavon-editor",{staticStyle:{"z-index":"1"},attrs:{toolbars:e.toolbars,ishljs:!0},model:{value:e.formInline.md_content,callback:function(t){e.$set(e.formInline,"md_content",t)},expression:"formInline.md_content"}})],1)],1),e._v(" "),n("Row",[n("FormItem",[n("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"success"},on:{click:e.handleSubmit}},[e._v("提交")]),e._v(" "),n("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"warning"},on:{click:e.handleGoBack}},[e._v("返回")])],1)],1)],1)],2)},staticRenderFns:[]};var v=n("VU/8")(f,_,!1,function(e){n("IsZz")},"data-v-4c1fc59b",null);t.default=v.exports},HKsS:function(e,t){},IlIx:function(e,t){},IsZz:function(e,t){},"T/ZV":function(e,t){},T592:function(e,t,n){"use strict";var a={name:"IFileUpload",props:{showButton:{type:Boolean,default:!0},uploadLabel:{type:String,default:"文件上传"},action:{type:String,default:""},size:{type:String,default:"default"},format:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},autoHideModal:{type:Boolean,deafult:!0},extraData:{type:Object,default:function(){return{}}}},data:function(){return{fileUploadModal:!1}},methods:{onFormatError:function(){this.$Message.error("文件格式不合法!")},uploadComplete:function(e,t){"SUCCESS"==e.status?(e.extraData=this.extraData,this.$emit("uploadComplete",e),this.$Notice.success({title:"文件上传成功",desc:"文件 "+t.name+" 上传成功!"}),this.autoHideModal&&this.hideModal()):this.$Notice.error({title:"文件上传失败",desc:"文件 "+t.name+" 上传失败!"})},showModal:function(){this.fileUploadModal=!0},hideModal:function(){this.fileUploadModal=!1}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e.showButton?n("Button",{attrs:{size:e.size,type:"success"},on:{click:function(t){e.fileUploadModal=!0}}},[e._v(e._s(e.uploadLabel))]):e._e(),e._v(" "),n("Modal",{attrs:{width:"500",title:e.uploadLabel,"mask-closable":!1},model:{value:e.fileUploadModal,callback:function(t){e.fileUploadModal=t},expression:"fileUploadModal"}},[n("div",[n("Upload",{ref:"upload",attrs:{multiple:"","on-success":e.uploadComplete,action:e.action,format:e.format,"on-format-error":e.onFormatError,multiple:e.multiple}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[e._v(e._s(e.uploadLabel))])],1)],1)])],1)},staticRenderFns:[]};var i=n("VU/8")(a,r,!1,function(e){n("/7/g")},"data-v-77862cb6",null);t.a=i.exports},ZOWB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),l=n.n(i),o=n("pwhd"),s=n("Nb9Q"),c=n("gPTX"),m=n("XZCL"),h=n("T592"),u=n("gyMJ"),p={name:"Placement",components:{ISimpleLeftRightRow:s.default,ISimpleConfirmModal:o.default,IKeyValueForm:c.default,ISimpleSearch:m.default,IFileUpload:h.a},props:{chooserMode:{type:Boolean,default:!1}},data:function(){var e=this;return{current_page:1,total:0,offset:10,search:"",placements:[],columns1:[{title:"id",key:"id",width:100},{title:"placement_name",key:"placement_name",width:300},{title:"placement_label",key:"placement_label",width:300},{title:"placement_desc",key:"placement_desc",width:400},{title:"操作",key:"operate",width:250,fixed:"right",render:function(t,n){return t("div",[t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:e.chooserMode?"undefined":"none"},on:{click:function(){e.$emit("choosePlacement",e.placements[n.index].placement_name)}}},"选择"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px",display:e.chooserMode?"none":"undefined"},on:{click:function(){e.deletePlacementById(e.placements[n.index].id)}}},"删除"),t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px",display:e.chooserMode?"none":"undefined"},on:{click:function(){e.$router.push({path:"/iwork/placementEdit",query:{id:e.placements[n.index].id}})}}},"编辑"),t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px",display:e.chooserMode?"none":"undefined"},on:{click:function(){e.copyPlacement(e.placements[n.index].id)}}},"复制"),t("Button",{props:{type:"warning",size:"small"},style:{marginRight:"5px",display:e.chooserMode?"none":"undefined"},on:{click:function(){e.$router.push({path:"/iwork/elementList",query:{placement_name:e.placements[n.index].placement_name}})}}},"元素管理")])}}]}},methods:{uploadComplete:function(e){"SUCCESS"==e.status?(this.refreshPlacementList(),this.$Message.success("导入成功！")):this.$Message.error(e.errorMsg)},copyPlacement:function(){var e=l()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.f)(t);case 2:"SUCCESS"==(n=e.sent).status?(this.$Message.success("复制成功！"),this.refreshPlacementList()):this.$Message.error(n.errorMsg);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),refreshPlacementList:function(){var e=l()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.K)(this.offset,this.current_page,this.search);case 2:"SUCCESS"==(t=e.sent).status&&(this.placements=t.placements,this.total=t.paginator.totalcount);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleSearch:function(e){this.offset=10,this.current_page=1,this.search=e,this.refreshPlacementList()},handleChange:function(e){this.current_page=e,this.refreshPlacementList()},handlePageSizeChange:function(e){this.offset=e,this.refreshPlacementList()},deletePlacementById:function(e){var t,n=this,a=this;a.$Modal.confirm({title:"删除",content:"确认删除该条数据吗？请谨慎操作！",onOk:(t=l()(r.a.mark(function t(){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.m)(e);case 2:"SUCCESS"==(i=t.sent).status?(a.$Message.success("删除成功！"),a.refreshPlacementList()):a.$Message.error(i.errorMsg);case 4:case"end":return t.stop()}},t,n)})),function(){return t.apply(this,arguments)}),onCancel:function(){a.$Message.info("取消操作")}})}},mounted:function(){this.refreshPlacementList()}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ISimpleLeftRightRow",{staticStyle:{"margin-bottom":"10px","margin-right":"10px"}},[n("div",{attrs:{slot:"left"},slot:"left"},[this.chooserMode?e._e():n("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.$router.push({path:"/iwork/placementEdit"})}}},[e._v("新增占位符\n      ")]),e._v(" "),n("IFileUpload",{ref:"fileUpload",attrs:{size:"small",action:"/api/iwork/import",uploadLabel:"导入"},on:{uploadComplete:e.uploadComplete}})],1),e._v(" "),n("ISimpleSearch",{attrs:{slot:"right"},on:{handleSimpleSearch:e.handleSearch},slot:"right"})],1),e._v(" "),n("Table",{attrs:{border:"",columns:e.columns1,data:e.placements,size:"small"}}),e._v(" "),n("Page",{attrs:{total:e.total,"page-size":e.offset,"show-total":"","show-sizer":"",styles:{"text-align":"center","margin-top":"10px"}},on:{"on-change":e.handleChange,"on-page-size-change":e.handlePageSizeChange}})],1)},staticRenderFns:[]};var f=n("VU/8")(p,d,!1,function(e){n("T/ZV")},"data-v-40100312",null);t.default=f.exports},ZipX:function(e,t){},iE3b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),l=n.n(i),o=n("gyMJ"),s=n("XZCL"),c={name:"MultiClickButton",props:{btnCounts:{type:Number,default:1},btnSize:{type:String,default:"small"},btnTypes:{type:Array,default:["primary"]},btnShows:{type:Array,default:[!0]},btnTexts:{type:Array,default:["primaryText"]},btnBindDatas:{type:Array,default:["bindData"]}},methods:{handleClick:function(e,t){this.$emit("handleClick",e,t)}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._l(e.btnCounts,function(t){return n("Button",{directives:[{name:"show",rawName:"v-show",value:e.btnShows[t-1],expression:"btnShows[n-1]"}],staticStyle:{"margin-right":"5px"},attrs:{type:e.btnTypes[t-1],size:e.btnSize},on:{click:function(n){e.handleClick(t-1,e.btnBindDatas[t-1])}}},[e._v(e._s(e.btnTexts[t-1]))])}))},staticRenderFns:[]};var h=n("VU/8")(c,m,!1,function(e){n("ZipX")},"data-v-1aa01305",null).exports,u={name:"Element",components:{ISimpleLeftRightRow:n("Nb9Q").default,MultiClickButton:h,ISimpleSearch:s.default},data:function(){var e=this,t=this;return{current_page:1,total:0,offset:10,search:"",elements:[],columns1:[{title:"id",key:"id",width:100},{title:"placement",key:"placement",width:150},{title:"element_name",key:"element_name",width:150},{title:"status",key:"status",width:100,render:function(t,n){return t("div",{style:{color:1==e.elements[n.index].status?"green":"red"}},1==e.elements[n.index].status?"启用":"停用")},filters:[{label:"启用",value:1},{label:"停用",value:-1}]},{title:"导航级别",key:"navigation_level",width:100},{title:"父 id",key:"navigation_parent_id",width:100},{title:"title",key:"title",width:150},{title:"img_path",key:"img_path",width:200},{title:"content",key:"content",width:200},{title:"linked_refer",key:"linked_refer",width:200},{title:"操作",key:"operate",width:340,fixed:"right",render:function(e,n){return e("div",[e(h,{props:{btnCounts:5,btnTypes:["primary","info","error","warning","success"],btnShows:[!0,!0,!0,!0,!0,!0],btnBindDatas:[1,-1,-2,2,3],btnTexts:["启用","停用","删除","编辑","复制"]},on:{handleClick:function(){var e=l()(r.a.mark(function e(a,i){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2!=i){e.next=4;break}t.$router.push({path:"/iwork/elementEdit",query:{id:t.elements[n.index].id,placement_name:t.$route.query.placement_name}}),e.next=12;break;case 4:if(3!=i){e.next=8;break}t.copyElement(t.elements[n.index].id),e.next=12;break;case 8:return e.next=10,Object(o._18)(t.elements[n.index].id,i);case 10:"SUCCESS"==e.sent.status?(t.$Message.success("操作成功!"),t.refreshElementList()):t.$Message.error("操作失败!");case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}})])}}]}},methods:{copyElement:function(){var e=l()(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.e)(t);case 2:"SUCCESS"==(n=e.sent).status?(this.$Message.success("复制成功！"),this.refreshElementList()):this.$Message.error(n.errorMsg);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),clickPlacement:function(e){this.search=e,this.refreshElementList()},refreshElementList:function(){var e=l()(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.G)(this.offset,this.current_page,this.$route.query.placement_name,this.search);case 2:"SUCCESS"==(t=e.sent).status&&(this.elements=t.elements,this.total=t.paginator.totalcount);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleChange:function(e){this.current_page=e,this.refreshElementList()},handlePageSizeChange:function(e){this.offset=e,this.refreshElementList()},handleSearch:function(e){this.search=e,this.refreshElementList()}},mounted:function(){this.refreshElementList()}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ISimpleLeftRightRow",[n("span",{attrs:{slot:"left"},slot:"left"},[n("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.$router.push({path:"/iwork/elementEdit",query:{placement_name:e.$route.query.placement_name}})}}},[e._v("新增页面元素")])],1),e._v(" "),n("ISimpleSearch",{attrs:{slot:"right"},on:{handleSimpleSearch:e.handleSearch},slot:"right"})],1),e._v(" "),n("Table",{attrs:{border:"",columns:e.columns1,data:e.elements,size:"small"}}),e._v(" "),n("Page",{attrs:{total:e.total,"page-size":e.offset,"show-total":"","show-sizer":"",styles:{"text-align":"center","margin-top":"10px"}},on:{"on-change":e.handleChange,"on-page-size-change":e.handlePageSizeChange}})],1)},staticRenderFns:[]};var d=n("VU/8")(u,p,!1,function(e){n("IlIx")},"data-v-a11bd0a0",null);t.default=d.exports}});
//# sourceMappingURL=2.09e3427c46df4822da62.js.map