webpackJsonp([9],{FqEn:function(e,t){},c1le:function(e,t){},iE3b:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("Xxa5"),s=n.n(r),a=n("exGp"),i=n.n(a),l=n("gyMJ"),c=n("XZCL"),o={name:"MultiClickButton",props:{btnCounts:{type:Number,default:1},btnSize:{type:String,default:"small"},btnTypes:{type:Array,default:["primary"]},btnShows:{type:Array,default:[!0]},btnTexts:{type:Array,default:["primaryText"]},btnBindDatas:{type:Array,default:["bindData"]}},methods:{handleClick:function(e,t){this.$emit("handleClick",e,t)}}},u={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",e._l(e.btnCounts,function(t){return n("Button",{directives:[{name:"show",rawName:"v-show",value:e.btnShows[t-1],expression:"btnShows[n-1]"}],staticStyle:{"margin-right":"5px"},attrs:{type:e.btnTypes[t-1],size:e.btnSize},on:{click:function(n){e.handleClick(t-1,e.btnBindDatas[t-1])}}},[e._v(e._s(e.btnTexts[t-1]))])}))},staticRenderFns:[]};var h=n("VU/8")(o,u,!1,function(e){n("c1le")},"data-v-245b9938",null).exports,d={name:"Element",components:{ISimpleLeftRightRow:n("Nb9Q").default,MultiClickButton:h,ISimpleSearch:c.default},data:function(){var e=this,t=this;return{current_page:1,total:0,offset:10,search:"",elements:[],columns1:[{title:"id",key:"id",width:100},{title:"placement",key:"placement",width:150},{title:"element_name",key:"element_name",width:150},{title:"status",key:"status",width:100,render:function(t,n){return t("div",{style:{color:1==e.elements[n.index].status?"green":"red"}},1==e.elements[n.index].status?"启用":"停用")},filters:[{label:"启用",value:1},{label:"停用",value:-1}]},{title:"导航级别",key:"navigation_level",width:100},{title:"父 id",key:"navigation_parent_id",width:100},{title:"title",key:"title",width:150},{title:"img_path",key:"img_path",width:200},{title:"content",key:"content",width:200},{title:"linked_refer",key:"linked_refer",width:200},{title:"操作",key:"operate",width:340,fixed:"right",render:function(e,n){return e("div",[e(h,{props:{btnCounts:5,btnTypes:["primary","info","error","warning","success"],btnShows:[!0,!0,!0,!0,!0,!0],btnBindDatas:[1,-1,-2,2,3],btnTexts:["启用","停用","删除","编辑","复制"]},on:{handleClick:function(){var e=i()(s.a.mark(function e(r,a){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(2!=a){e.next=4;break}t.$router.push({path:"/iwork/elementEdit",query:{id:t.elements[n.index].id,placement_name:t.$route.query.placement_name}}),e.next=12;break;case 4:if(3!=a){e.next=8;break}t.copyElement(t.elements[n.index].id),e.next=12;break;case 8:return e.next=10,Object(l._18)(t.elements[n.index].id,a);case 10:"SUCCESS"==e.sent.status?(t.$Message.success("操作成功!"),t.refreshElementList()):t.$Message.error("操作失败!");case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}})])}}]}},methods:{copyElement:function(){var e=i()(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)(t);case 2:"SUCCESS"==(n=e.sent).status?(this.$Message.success("复制成功！"),this.refreshElementList()):this.$Message.error(n.errorMsg);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),clickPlacement:function(e){this.search=e,this.refreshElementList()},refreshElementList:function(){var e=i()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.G)(this.offset,this.current_page,this.$route.query.placement_name,this.search);case 2:"SUCCESS"==(t=e.sent).status&&(this.elements=t.elements,this.total=t.paginator.totalcount);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),handleChange:function(e){this.current_page=e,this.refreshElementList()},handlePageSizeChange:function(e){this.offset=e,this.refreshElementList()},handleSearch:function(e){this.search=e,this.refreshElementList()}},mounted:function(){this.refreshElementList()}},p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ISimpleLeftRightRow",[n("span",{attrs:{slot:"left"},slot:"left"},[n("Button",{attrs:{type:"success",size:"small"},on:{click:function(t){e.$router.push({path:"/iwork/elementEdit",query:{placement_name:e.$route.query.placement_name}})}}},[e._v("新增页面元素")])],1),e._v(" "),n("ISimpleSearch",{attrs:{slot:"right"},on:{handleSimpleSearch:e.handleSearch},slot:"right"})],1),e._v(" "),n("Table",{attrs:{border:"",columns:e.columns1,data:e.elements,size:"small"}}),e._v(" "),n("Page",{attrs:{total:e.total,"page-size":e.offset,"show-total":"","show-sizer":"",styles:{"text-align":"center","margin-top":"10px"}},on:{"on-change":e.handleChange,"on-page-size-change":e.handlePageSizeChange}})],1)},staticRenderFns:[]};var f=n("VU/8")(d,p,!1,function(e){n("FqEn")},"data-v-a11bd0a0",null);t.default=f.exports}});
//# sourceMappingURL=9.455f1e1e52269f6ab908.js.map