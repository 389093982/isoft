{"version":3,"sources":["webpack:///src/components/IWork/IAssistant/QuickTable.vue","webpack:///./src/components/IWork/IAssistant/QuickTable.vue?bb0f","webpack:///./src/components/IWork/IAssistant/QuickTable.vue","webpack:///src/components/IWork/IAssistant/QuickResource.vue","webpack:///./src/components/IWork/IAssistant/QuickResource.vue?8c07","webpack:///./src/components/IWork/IAssistant/QuickResource.vue","webpack:///src/components/IWork/IAssistant/QuickSql.vue","webpack:///./src/components/IWork/IAssistant/QuickSql.vue?a219","webpack:///./src/components/IWork/IAssistant/QuickSql.vue"],"names":["QuickTable","name","props","tableName","type","String","default","tableColumns","Array","tableSqls","data","split1","checkTableColumns","customSqls","appendSqlElements","hotSqlElements","methods","chooseAll","this","length","toggleAll","_this","filter","column","Object","tools","appendColumn","push","join","map","deleteCustom","index","splice","renderSql","_this2","$Modal","info","title","width","content","render","h","style","deleteElement","event","preventDefault","dataStr","dataTransfer","getData","JSON","parse","sourceIndex","transferData","location","dragstart","setData","stringify_default","allowDrop","drop","stopPropagation","filters","filterLimitFunc","value","substring","IAssistant_QuickTable","_vm","_h","$createElement","_c","_self","staticStyle","margin","border","padding","_l","element","attrs","draggable","on","$event","size","_v","_s","text-align","margin-top","margin-bottom","dragover","icon","click","min-height","placement","max-width","_f","span","color","model","callback","$$v","expression","tableColumn","list-style","label","tableSql","customSql","staticRenderFns","QuickResource","components","__webpack_require__","normalizeComponent","ssrContext","resource","choose_table_name","tableNames","tableColumnsMap","tableSqlMap","loadQuickSqlMeta","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","api","id","sent","status","stop","apply","arguments","getTableColumns","getTableSqls","mounted","IAssistant_QuickResource","key","table-name","table-columns","table-sqls","_e","QuickSql","QuickResource_normalizeComponent","resources","currentResource","choose_resource_dsn","refreshAllResource","chooseResource","resource_dsn","IAssistant_QuickSql","on-change","resource_name","QuickSql_Component","QuickSql_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/iwork/js/5.2ba6d2cf5441f746f272.js","sourcesContent":["<template>\n  <div style=\"margin: 10px;\">\n    <div>\n      <div style=\"border: 1px solid #dcdee2;padding: 20px;\">\n          <span v-for=\"(element,index) in hotSqlElements\" draggable=\"true\" @dragstart=\"dragstart($event, element, -1, 'left')\">\n            <Button style=\"margin: 2px;\" size=\"small\">{{element}}</Button>\n          </span>\n      </div>\n\n      <div>\n        <div style=\"text-align: right;margin-top:5px;margin-bottom: 5px;\">\n            <span @drop=\"deleteElement($event)\" @dragover=\"allowDrop($event)\">\n              <Button type=\"primary\" size=\"small\" icon=\"md-close\">拖拽至此处进行删除</Button>\n            </span>\n          <Button type=\"dashed\" size=\"small\" @click=\"renderSql\">Render Sql</Button>\n        </div>\n        <div style=\"min-height: 100px;border: 1px solid #dcdee2;padding:20px;\" @drop=\"drop($event, -1)\" @dragover=\"allowDrop($event)\">\n          <span v-for=\"(element,index) in appendSqlElements\"\n                draggable=\"true\" @dragstart=\"dragstart($event, element, index, 'right')\"\n                @drop=\"drop($event, index)\" @dragover=\"allowDrop($event)\">\n            <Tooltip :content=\"element\" placement=\"bottom\" max-width=\"800\">\n              <Button style=\"margin: 2px;\" size=\"small\">{{element | filterLimitFunc}}</Button>\n            </Tooltip>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <Row style=\"margin-top: 10px;\">\n      <Col span=\"4\">\n        <p style=\"color: red;\">表名：{{tableName}}</p>\n        <CheckboxGroup v-model=\"checkTableColumns\">\n          <ul>\n            <li v-for=\"tableColumn in tableColumns\" style=\"list-style: none;\">\n              <Checkbox :label=\"tableColumn\"></Checkbox>\n            </li>\n          </ul>\n        </CheckboxGroup>\n        <p style=\"margin-top: 10px;\">\n          <Button type=\"dashed\" size=\"small\" @click=\"chooseAll\">全选</Button>\n          <Button type=\"dashed\" size=\"small\" @click=\"toggleAll\">反选</Button>\n          <Button type=\"dashed\" size=\"small\" @click=\"appendColumn\">Apply</Button>\n        </p>\n      </Col>\n      <Col span=\"20\">\n        <p style=\"color: red;\">sql信息</p>\n        <ul>\n          <li style=\"list-style: none;\" v-for=\"tableSql in tableSqls\" draggable=\"true\" @dragstart=\"dragstart($event, tableSql, -1, 'bottom')\">\n            <Tooltip :content=\"tableSql\" placement=\"bottom\" max-width=\"800\">\n              <Button style=\"margin: 2px;\" size=\"small\">{{tableSql | filterLimitFunc}}</Button>\n            </Tooltip>\n          </li>\n          <li style=\"list-style: none;\" v-for=\"(customSql,index) in customSqls\" draggable=\"true\" @dragstart=\"dragstart($event, customSql, -1, 'bottom')\">\n            <Tooltip :content=\"customSql\" placement=\"bottom\" max-width=\"800\">\n              <Button style=\"margin: 2px;\" size=\"small\">自定义sql：{{customSql | filterLimitFunc}}</Button>\n            </Tooltip>\n            <Button type=\"dashed\" size=\"small\" @click=\"deleteCustom(index)\">删除</Button>\n          </li>\n        </ul>\n      </Col>\n    </Row>\n  </div>\n</template>\n\n<script>\n  import {oneOf, swapArray} from \"../../../tools\"\n\n  export default {\n    name: \"QuickTable\",\n    props:{\n      tableName:{\n        type:String,\n        default:'',\n      },\n      tableColumns:{\n        type:Array,\n        default:[],\n      },\n      tableSqls:{\n        type:Array,\n        default:[],\n      }\n    },\n    data(){\n      return {\n        split1: 0.4,\n        // 选中的列\n        checkTableColumns:[],\n        customSqls:[],\n        // default line 默认线路\n        appendSqlElements: [],\n        hotSqlElements: [\"select\", \"update\", \"set\", \"insert into\", \"values\", \"(\", \")\", \"count(*) as count\", \"where\", \"from\", \"where 1=0\"],\n      }\n    },\n    methods:{\n      chooseAll:function () {\n        if(this.checkTableColumns.length > 0){\n          this.checkTableColumns = [];\n        }else{\n          this.checkTableColumns = this.tableColumns;\n        }\n      },\n      toggleAll:function () {\n        this.checkTableColumns = this.tableColumns.filter(column => !oneOf(column, this.checkTableColumns));\n      },\n      appendColumn:function () {\n        if(this.checkTableColumns.length > 0){\n          this.customSqls.push(this.checkTableColumns.join(\",\"));\n          this.customSqls.push(this.checkTableColumns.map(column => column + \"=?\").join(\" and \"));\n        }\n      },\n      deleteCustom:function (index) {\n        this.customSqls.splice(index,1);\n      },\n      renderSql:function () {\n        this.$Modal.info({\n          title: \"sql 预览\",\n          width: 500,\n          content: this.appendSqlElements.join(\" \"),\n          render:(h)=>{\n            return h('div',{\n              style:'word-break: break-all;',\n            }, this.appendSqlElements.join(\" \"));\n          }\n        });\n      },\n      deleteElement:function (event) {\n        event.preventDefault();\n        var dataStr = event.dataTransfer.getData(\"Text\");\n        var data = JSON.parse(dataStr);\n        var sourceIndex = data.index;\n        var transferData = data.transferData;\n        var location = data.location;\n        if(location == 'right'){\n          this.appendSqlElements.splice(sourceIndex, 1);\n        }\n      },\n      dragstart:function(event, transferData, index, location){\n        event.dataTransfer.setData(\"Text\", JSON.stringify({'transferData':transferData, 'index':index, 'location':location}));\n      },\n      allowDrop:function(event){\n        event.preventDefault();\n      },\n      drop:function(event, index){\n        // 取消冒泡\n        event.stopPropagation();\n        event.preventDefault();\n        var dataStr = event.dataTransfer.getData(\"Text\");\n        var data = JSON.parse(dataStr);\n        var sourceIndex = data.index;\n        var transferData = data.transferData;\n        var location = data.location;\n        if(index > 0){  // 目标位置有元素\n          if(sourceIndex >= 0){\n            // 交换位置\n            swapArray(this.appendSqlElements, sourceIndex, index);\n          }else{\n            // index 后面添加\n            this.appendSqlElements.splice(index + 1, 0, data.transferData);\n          }\n        }else{         // 目标元素为空div,直接追加\n          if(location != 'right'){\n            this.appendSqlElements.push(transferData);\n          }\n        }\n      }\n    },\n    filters:{\n      // 内容超长则显示部分\n      filterLimitFunc:function (value) {\n        if(value && value.length > 80) {\n          value= value.substring(0,80) + '...';\n        }\n        return value;\n      },\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IAssistant/QuickTable.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"10px\"}},[_c('div',[_c('div',{staticStyle:{\"border\":\"1px solid #dcdee2\",\"padding\":\"20px\"}},_vm._l((_vm.hotSqlElements),function(element,index){return _c('span',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, element, -1, 'left')}}},[_c('Button',{staticStyle:{\"margin\":\"2px\"},attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(element))])],1)})),_vm._v(\" \"),_c('div',[_c('div',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"}},[_c('span',{on:{\"drop\":function($event){_vm.deleteElement($event)},\"dragover\":function($event){_vm.allowDrop($event)}}},[_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\",\"icon\":\"md-close\"}},[_vm._v(\"拖拽至此处进行删除\")])],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.renderSql}},[_vm._v(\"Render Sql\")])],1),_vm._v(\" \"),_c('div',{staticStyle:{\"min-height\":\"100px\",\"border\":\"1px solid #dcdee2\",\"padding\":\"20px\"},on:{\"drop\":function($event){_vm.drop($event, -1)},\"dragover\":function($event){_vm.allowDrop($event)}}},_vm._l((_vm.appendSqlElements),function(element,index){return _c('span',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, element, index, 'right')},\"drop\":function($event){_vm.drop($event, index)},\"dragover\":function($event){_vm.allowDrop($event)}}},[_c('Tooltip',{attrs:{\"content\":element,\"placement\":\"bottom\",\"max-width\":\"800\"}},[_c('Button',{staticStyle:{\"margin\":\"2px\"},attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(_vm._f(\"filterLimitFunc\")(element)))])],1)],1)}))])]),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('Col',{attrs:{\"span\":\"4\"}},[_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"表名：\"+_vm._s(_vm.tableName))]),_vm._v(\" \"),_c('CheckboxGroup',{model:{value:(_vm.checkTableColumns),callback:function ($$v) {_vm.checkTableColumns=$$v},expression:\"checkTableColumns\"}},[_c('ul',_vm._l((_vm.tableColumns),function(tableColumn){return _c('li',{staticStyle:{\"list-style\":\"none\"}},[_c('Checkbox',{attrs:{\"label\":tableColumn}})],1)}))]),_vm._v(\" \"),_c('p',{staticStyle:{\"margin-top\":\"10px\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.chooseAll}},[_vm._v(\"全选\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.toggleAll}},[_vm._v(\"反选\")]),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.appendColumn}},[_vm._v(\"Apply\")])],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"20\"}},[_c('p',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"sql信息\")]),_vm._v(\" \"),_c('ul',[_vm._l((_vm.tableSqls),function(tableSql){return _c('li',{staticStyle:{\"list-style\":\"none\"},attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, tableSql, -1, 'bottom')}}},[_c('Tooltip',{attrs:{\"content\":tableSql,\"placement\":\"bottom\",\"max-width\":\"800\"}},[_c('Button',{staticStyle:{\"margin\":\"2px\"},attrs:{\"size\":\"small\"}},[_vm._v(_vm._s(_vm._f(\"filterLimitFunc\")(tableSql)))])],1)],1)}),_vm._v(\" \"),_vm._l((_vm.customSqls),function(customSql,index){return _c('li',{staticStyle:{\"list-style\":\"none\"},attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, customSql, -1, 'bottom')}}},[_c('Tooltip',{attrs:{\"content\":customSql,\"placement\":\"bottom\",\"max-width\":\"800\"}},[_c('Button',{staticStyle:{\"margin\":\"2px\"},attrs:{\"size\":\"small\"}},[_vm._v(\"自定义sql：\"+_vm._s(_vm._f(\"filterLimitFunc\")(customSql)))])],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":function($event){_vm.deleteCustom(index)}}},[_vm._v(\"删除\")])],1)})],2)])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9f0da4a4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IAssistant/QuickTable.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9f0da4a4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./QuickTable.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickTable.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickTable.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9f0da4a4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./QuickTable.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9f0da4a4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IAssistant/QuickTable.vue\n// module id = null\n// module chunks = ","<template>\n  <span style=\"margin-top: 10px;\">\n    选择数据表：\n    <Select v-model=\"choose_table_name\" style=\"width:400px\">\n      <Option v-for=\"tableName in tableNames\" :value=\"tableName\" :key=\"tableName\">\n        {{tableName}}\n      </Option>\n    </Select>\n\n    <div v-if=\"choose_table_name == tableName\" v-for=\"tableName in tableNames\">\n      <QuickTable :table-name=\"tableName\" :table-columns=\"getTableColumns(tableName)\"\n        :table-sqls=\"getTableSqls(tableName)\"/>\n    </div>\n  </span>\n</template>\n\n<script>\n  import {LoadQuickSqlMeta} from \"../../../api\"\n  import QuickTable from \"./QuickTable\"\n\n  export default {\n    name: \"QuickResource\",\n    components:{QuickTable},\n    props:{\n      resource:{\n        type:Object,\n        default:{},\n      }\n    },\n    data(){\n      return {\n        choose_table_name:'',\n        tableNames:[],\n        tableColumnsMap:{},\n        tableSqlMap:{},\n      }\n    },\n    methods:{\n      loadQuickSqlMeta:async function () {\n        const result = await LoadQuickSqlMeta(this.resource.id);\n        if(result.status == \"SUCCESS\"){\n          this.tableNames = result.tableNames;\n          this.tableColumnsMap = result.tableColumnsMap;\n          this.tableSqlMap = result.tableSqlMap;\n        }\n      },\n      getTableColumns:function (tableName) {\n        return this.tableColumnsMap[tableName];\n      },\n      getTableSqls:function (tableName) {\n        return this.tableSqlMap[tableName];\n      },\n    },\n    mounted(){\n      this.loadQuickSqlMeta();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IAssistant/QuickResource.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticStyle:{\"margin-top\":\"10px\"}},[_vm._v(\"\\n  选择数据表：\\n  \"),_c('Select',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.choose_table_name),callback:function ($$v) {_vm.choose_table_name=$$v},expression:\"choose_table_name\"}},_vm._l((_vm.tableNames),function(tableName){return _c('Option',{key:tableName,attrs:{\"value\":tableName}},[_vm._v(\"\\n      \"+_vm._s(tableName)+\"\\n    \")])})),_vm._v(\" \"),_vm._l((_vm.tableNames),function(tableName){return (_vm.choose_table_name == tableName)?_c('div',[_c('QuickTable',{attrs:{\"table-name\":tableName,\"table-columns\":_vm.getTableColumns(tableName),\"table-sqls\":_vm.getTableSqls(tableName)}})],1):_vm._e()})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6b6c3372\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IAssistant/QuickResource.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6b6c3372\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./QuickResource.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickResource.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickResource.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6b6c3372\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./QuickResource.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6b6c3372\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IAssistant/QuickResource.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    切换数据源：\n    <Select v-model=\"choose_resource_dsn\" style=\"width:400px\" @on-change=\"chooseResource\">\n      <Option v-for=\"resource in resources\" :value=\"resource.resource_dsn\" :key=\"resource.resource_dsn\">\n        {{resource.resource_name}} ~ {{resource.resource_dsn}}\n      </Option>\n    </Select>\n    <QuickResource v-if=\"currentResource\" :resource=\"currentResource\"/>\n  </div>\n</template>\n\n<script>\n  import {GetAllResource} from \"../../../api\"\n  import QuickResource from \"./QuickResource\"\n\n  export default {\n    name: \"QuickSql\",\n    components:{QuickResource},\n    data(){\n      return {\n        resources:[],\n        currentResource:null,\n        choose_resource_dsn:'',\n      }\n    },\n    methods:{\n      refreshAllResource:async function () {\n        const result = await GetAllResource(\"db\");\n        if (result.status === \"SUCCESS\") {\n          this.resources = result.resources;\n        }\n      },\n      chooseResource:function () {\n        this.currentResource = this.resources.filter(resource => resource.resource_dsn === this.choose_resource_dsn)[0];\n      }\n    },\n    mounted:function () {\n      this.refreshAllResource();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IAssistant/QuickSql.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  切换数据源：\\n  \"),_c('Select',{staticStyle:{\"width\":\"400px\"},on:{\"on-change\":_vm.chooseResource},model:{value:(_vm.choose_resource_dsn),callback:function ($$v) {_vm.choose_resource_dsn=$$v},expression:\"choose_resource_dsn\"}},_vm._l((_vm.resources),function(resource){return _c('Option',{key:resource.resource_dsn,attrs:{\"value\":resource.resource_dsn}},[_vm._v(\"\\n      \"+_vm._s(resource.resource_name)+\" ~ \"+_vm._s(resource.resource_dsn)+\"\\n    \")])})),_vm._v(\" \"),(_vm.currentResource)?_c('QuickResource',{attrs:{\"resource\":_vm.currentResource}}):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a670e1f\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IAssistant/QuickSql.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a670e1f\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./QuickSql.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickSql.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./QuickSql.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a670e1f\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./QuickSql.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2a670e1f\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IAssistant/QuickSql.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}