{"version":3,"sources":["webpack:///./node_modules/babel-runtime/helpers/toConsumableArray.js","webpack:///src/components/IWork/IResource/ResourceEdit.vue","webpack:///./src/components/IWork/IResource/ResourceEdit.vue?b545","webpack:///./src/components/IWork/IResource/ResourceEdit.vue","webpack:///src/components/IWork/IResource/ResourceList.vue","webpack:///./src/components/IWork/IResource/ResourceList.vue?5e14","webpack:///./src/components/IWork/IResource/ResourceList.vue","webpack:///src/components/IWork/IWorkStep/WorkStepComponent.vue","webpack:///./src/components/IWork/IWorkStep/WorkStepComponent.vue?8eb6","webpack:///./src/components/IWork/IWorkStep/WorkStepComponent.vue"],"names":["exports","__esModule","obj","_from","__webpack_require__","_from2","default","arr","Array","isArray","i","arr2","length","ResourceEdit","name","components","WorkStepComponent","ISimpleBtnTriggerModal","data","globalVars","formValidate","resource_id","resource_name","resource_type","resource_url","resource_dsn","resource_username","resource_password","env_name","ruleValidate","required","message","trigger","methods","dragstart","event","transferData","dataTransfer","setData","allowDrop","preventDefault","drop","field_name","stopPropagation","globalVar","getData","this","$set","formInline","initData","_ref","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","$refs","triggerModal","triggerClick","Object","api","sent","status","resource","id","stop","_x","apply","arguments","handleSubmit","_ref2","_this","validate","_callee2","valid","_context2","$Message","success","hideModal","handleReset","$emit","error","_x2","resetFields","refreshAllGlobalVars","_ref3","_callee3","_context3","mounted","IResource_ResourceEdit","render","_vm","_h","$createElement","_c","_self","ref","attrs","btn-text","btn-size","modal-title","modal-top","modal-width","span","_l","index","draggable","on","$event","_v","_s","model","rules","label-width","label","prop","placeholder","value","callback","$$v","trim","expression","dragover","staticStyle","margin-right","type","click","staticRenderFns","IWork_IResource_ResourceEdit","normalizeComponent","ssrContext","ResourceList","ISimpleLeftRightRow","ISimpleSearch","current_page","total","offset","search","resources","columns1","title","key","width","h","params","tools","Date","row","last_updated_time","fixed","props","size","style","marginRight","validateResource","resource_edit","deleteResource","errorMsg","refreshResourceList","paginator","totalcount","handleChange","page","handlePageSizeChange","pageSize","handleSearch","IResource_ResourceList","margin","margin-bottom","slot","handleSuccess","handleSimpleSearch","border","columns","page-size","show-total","show-sizer","styles","text-align","margin-top","on-change","on-page-size-change","ResourceList_Component","ResourceList_normalizeComponent","__webpack_exports__","showComponentDrawer","nodeMetas","works","module_names","showComponent","toggleShow","refreshAllWorks","map","work","module_name","getUniqueArr","x","set_default","concat","toConsumableArray_default","refreshNodeMetas","IWorkStep_WorkStepComponent","placement","closable","mask","scrollable","default_work_step_type","_e","work_name","$router","push","path","query","Component"],"mappings":"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","file":"static/iwork/js/2.895e87d5dfe5f883b1fb.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nvar _from = require(\"../core-js/array/from\");\n\nvar _from2 = _interopRequireDefault(_from);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return (0, _from2.default)(arr);\n  }\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/helpers/toConsumableArray.js\n// module id = Gu7T\n// module chunks = 1 2","<template>\n  <!-- 按钮触发模态框 -->\n  <!-- ref 的作用是为了在其它地方方便的获取到当前子组件 -->\n  <ISimpleBtnTriggerModal ref=\"triggerModal\" btn-text=\"新增资源信息\" btn-size=\"small\" modal-title=\"新增/编辑资源信息\" modal-top=\"50px\"\n                          :modal-width=\"800\">\n    <Row>\n      <Col span=\"6\">\n        <Scroll>\n          <Tag v-for=\"(globalVar,index) in globalVars\"><span draggable=\"true\" @dragstart=\"dragstart($event, globalVar)\">{{globalVar}}</span>\n          </Tag>\n        </Scroll>\n      </Col>\n      <Col span=\"18\">\n        <!-- 表单信息 -->\n        <Form ref=\"formValidate\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"140\">\n          <FormItem label=\"resource_name\" prop=\"resource_name\">\n            <Input v-model.trim=\"formValidate.resource_name\" placeholder=\"请输入 resource_name\"></Input>\n          </FormItem>\n          <FormItem label=\"resource_type\" prop=\"resource_type\">\n            <Select v-model=\"formValidate.resource_type\" placeholder=\"请选择 resource_type\">\n              <Option value=\"db\">db</Option>\n              <Option value=\"sftp\">sftp</Option>\n              <Option value=\"ssh\">ssh</Option>\n            </Select>\n          </FormItem>\n          <FormItem label=\"resource_url\" prop=\"resource_url\">\n            <Input v-model.trim=\"formValidate.resource_url\" placeholder=\"请输入 resource_url\"></Input>\n          </FormItem>\n          <FormItem label=\"resource_dsn\" prop=\"resource_dsn\">\n            <Input v-model.trim=\"formValidate.resource_dsn\" placeholder=\"请输入 resource_dsn\"\n                   @drop=\"drop($event, 'resource_dsn')\" @dragover=\"allowDrop($event)\"></Input>\n          </FormItem>\n          <FormItem label=\"resource_username\" prop=\"resource_username\">\n            <Input v-model.trim=\"formValidate.resource_username\" placeholder=\"请输入 resource_username\"></Input>\n          </FormItem>\n          <FormItem label=\"resource_password\" prop=\"resource_password\">\n            <Input v-model.trim=\"formValidate.resource_password\" placeholder=\"请输入 resource_password\"></Input>\n          </FormItem>\n          <FormItem>\n            <Button type=\"success\" @click=\"handleSubmit('formValidate')\" style=\"margin-right: 6px\">提交</Button>\n            <Button type=\"warning\" @click=\"handleReset('formValidate')\" style=\"margin-right: 6px\">重置</Button>\n          </FormItem>\n        </Form>\n      </Col>\n    </Row>\n  </ISimpleBtnTriggerModal>\n</template>\n\n<script>\n  import ISimpleBtnTriggerModal from \"../../Common/modal/ISimpleBtnTriggerModal\"\n  import {EditResource, GetAllGlobalVars, GetResourceById} from \"../../../api\"\n  import WorkStepComponent from \"../IWorkStep/WorkStepComponent\";\n\n  export default {\n    name: \"ResourceEdit\",\n    components: {WorkStepComponent, ISimpleBtnTriggerModal},\n    data(){\n      return {\n        globalVars: [],\n        formValidate: {\n          resource_id: 0,\n          resource_name: '',\n          resource_type: '',\n          resource_url: '',\n          resource_dsn: '',\n          resource_username: '',\n          resource_password: '',\n          env_name: '',\n        },\n        ruleValidate: {\n          resource_name: [\n            { required: true, message: 'resource_name 不能为空!', trigger: 'blur' }\n          ],\n          resource_type: [\n            { required: true, message: 'resource_type 不能为空!', trigger: 'change' }\n          ],\n          resource_url: [\n            { required: true, message: 'resource_url 不能为空!', trigger: 'blur' }\n          ],\n          resource_dsn: [\n            { required: true, message: 'resource_dsn 不能为空!', trigger: 'blur' }\n          ],\n          resource_username: [\n            { required: true, message: 'resource_username 不能为空!', trigger: 'blur' }\n          ],\n          resource_password: [\n            { required: true, message: 'resource_password 不能为空!', trigger: 'blur' }\n          ],\n        },\n      }\n    },\n    methods:{\n      dragstart: function (event, transferData) {\n        event.dataTransfer.setData(\"Text\", transferData);\n      },\n      allowDrop: function (event) {\n        event.preventDefault();\n      },\n      drop: function (event, field_name) {\n        // 取消冒泡\n        event.stopPropagation();\n        event.preventDefault();\n        var globalVar = event.dataTransfer.getData(\"Text\");\n        this.$set(this.formInline, field_name, globalVar);\n      },\n      initData:async function(resource_id){\n        this.$refs.triggerModal.triggerClick();\n        const result = await GetResourceById(resource_id);\n        if(result.status == \"SUCCESS\"){\n          this.formValidate.resource_id =result.resource.id;\n          this.formValidate.resource_name =result.resource.resource_name;\n          this.formValidate.resource_type =result.resource.resource_type;\n          this.formValidate.resource_url =result.resource.resource_url;\n          this.formValidate.resource_dsn =result.resource.resource_dsn;\n          this.formValidate.resource_username =result.resource.resource_username;\n          this.formValidate.resource_password =result.resource.resource_password;\n          this.formValidate.env_name =result.resource.env_name;\n        }\n      },\n      handleSubmit (name) {\n        this.$refs[name].validate(async (valid) => {\n          if (valid) {\n            const result = await EditResource(this.formValidate.resource_id,this.formValidate.resource_name,\n              this.formValidate.resource_type,this.formValidate.resource_url,this.formValidate.resource_dsn,\n              this.formValidate.resource_username,this.formValidate.resource_password);\n            if(result.status == \"SUCCESS\"){\n              this.$Message.success('提交成功!');\n              // 调用子组件隐藏 modal (this.refs.xxx.子组件定义的方法())\n              this.$refs.triggerModal.hideModal();\n              this.handleReset('formValidate');\n              // 通知父组件添加成功\n              this.$emit('handleSuccess');\n            }else{\n              this.$Message.error('提交失败!');\n            }\n          }\n        })\n      },\n      handleReset (name) {\n        this.$refs[name].resetFields();\n      },\n      refreshAllGlobalVars: async function () {\n        const result = await GetAllGlobalVars();\n        if (result.status == \"SUCCESS\") {\n          this.globalVars = result.globalVars;\n        }\n      }\n    },\n    mounted() {\n      this.refreshAllGlobalVars();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IResource/ResourceEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ISimpleBtnTriggerModal',{ref:\"triggerModal\",attrs:{\"btn-text\":\"新增资源信息\",\"btn-size\":\"small\",\"modal-title\":\"新增/编辑资源信息\",\"modal-top\":\"50px\",\"modal-width\":800}},[_c('Row',[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Scroll',_vm._l((_vm.globalVars),function(globalVar,index){return _c('Tag',[_c('span',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, globalVar)}}},[_vm._v(_vm._s(globalVar))])])}))],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"18\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":140}},[_c('FormItem',{attrs:{\"label\":\"resource_name\",\"prop\":\"resource_name\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入 resource_name\"},model:{value:(_vm.formValidate.resource_name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_name\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.resource_name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"resource_type\",\"prop\":\"resource_type\"}},[_c('Select',{attrs:{\"placeholder\":\"请选择 resource_type\"},model:{value:(_vm.formValidate.resource_type),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_type\", $$v)},expression:\"formValidate.resource_type\"}},[_c('Option',{attrs:{\"value\":\"db\"}},[_vm._v(\"db\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"sftp\"}},[_vm._v(\"sftp\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"ssh\"}},[_vm._v(\"ssh\")])],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"resource_url\",\"prop\":\"resource_url\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入 resource_url\"},model:{value:(_vm.formValidate.resource_url),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_url\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.resource_url\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"resource_dsn\",\"prop\":\"resource_dsn\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入 resource_dsn\"},on:{\"drop\":function($event){_vm.drop($event, 'resource_dsn')},\"dragover\":function($event){_vm.allowDrop($event)}},model:{value:(_vm.formValidate.resource_dsn),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_dsn\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.resource_dsn\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"resource_username\",\"prop\":\"resource_username\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入 resource_username\"},model:{value:(_vm.formValidate.resource_username),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_username\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.resource_username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"resource_password\",\"prop\":\"resource_password\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入 resource_password\"},model:{value:(_vm.formValidate.resource_password),callback:function ($$v) {_vm.$set(_vm.formValidate, \"resource_password\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formValidate.resource_password\"}})],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"margin-right\":\"6px\"},attrs:{\"type\":\"success\"},on:{\"click\":function($event){_vm.handleSubmit('formValidate')}}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-right\":\"6px\"},attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.handleReset('formValidate')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bb131320\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IResource/ResourceEdit.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bb131320\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResourceEdit.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResourceEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResourceEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bb131320\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResourceEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-bb131320\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IResource/ResourceEdit.vue\n// module id = null\n// module chunks = ","<template>\n  <div style=\"margin: 10px;\">\n    <ISimpleLeftRightRow style=\"margin-bottom: 10px;margin-right: 10px;\">\n      <!-- left 插槽部分 -->\n      <ResourceEdit ref=\"resource_edit\" slot=\"left\" @handleSuccess=\"refreshResourceList\"/>\n      <!-- right 插槽部分 -->\n      <ISimpleSearch slot=\"right\" @handleSimpleSearch=\"handleSearch\"/>\n    </ISimpleLeftRightRow>\n\n    <Table border :columns=\"columns1\" :data=\"resources\" size=\"small\"></Table>\n    <Page :total=\"total\" :page-size=\"offset\" show-total show-sizer :styles=\"{'text-align': 'center','margin-top': '10px'}\"\n          @on-change=\"handleChange\" @on-page-size-change=\"handlePageSizeChange\"/>\n  </div>\n</template>\n\n<script>\n  import {formatDate} from \"../../../tools/index\"\n  import {ResourceList} from \"../../../api/index\"\n  import {DeleteResource} from \"../../../api/index\"\n  import {ValidateResource} from \"../../../api/index\"\n  import ISimpleLeftRightRow from \"../../Common/layout/ISimpleLeftRightRow\"\n  import ISimpleSearch from \"../../Common/search/ISimpleSearch\"\n  import ResourceEdit from \"./ResourceEdit\"\n\n  export default {\n    name: \"ResourceList\",\n    components:{ISimpleLeftRightRow,ISimpleSearch,ResourceEdit},\n    data(){\n      return {\n        // 当前页\n        current_page:1,\n        // 总数\n        total:0,\n        // 每页记录数\n        offset:10,\n        // 搜索条件\n        search:\"\",\n        resources: [],\n        columns1: [\n          {\n            title: 'resource_name',\n            key: 'resource_name',\n            width: 150,\n          },\n          {\n            title: 'resource_type',\n            key: 'resource_type',\n            width: 120,\n          },\n          {\n            title: 'resource_url',\n            key: 'resource_url',\n            width: 150,\n          },\n          {\n            title: 'resource_dsn',\n            key: 'resource_dsn',\n            width: 320,\n          },\n          {\n            title: 'resource_username',\n            key: 'resource_username',\n            width: 160,\n          },\n          {\n            title: 'resource_password',\n            key: 'resource_password',\n            width: 200,\n          },\n          {\n            title: 'last_updated_time',\n            key: 'last_updated_time',\n            width: 150,\n            render: (h,params)=>{\n              return h('div',\n                formatDate(new Date(params.row.last_updated_time),'yyyy-MM-dd hh:mm')\n              )\n            }\n          },\n          {\n            title: '操作',\n            key: 'operate',\n            width: 280,\n            fixed: 'right',\n            render: (h, params) => {\n              return h('div', [\n                h('Button', {\n                  props: {\n                    type: 'error',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                  },\n                  on: {\n                    click: () => {\n                      this.validateResource(this.resources[params.index]['id']);\n                    }\n                  }\n                }, '连接测试'),\n                h('Button', {\n                  props: {\n                    type: 'success',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                  },\n                  on: {\n                    click: () => {\n                      this.$refs.resource_edit.initData(this.resources[params.index]['id']);\n                    }\n                  }\n                }, '编辑'),\n                h('Button', {\n                  props: {\n                    type: 'warning',\n                    size: 'small'\n                  },\n                  style: {\n                    marginRight: '5px',\n                  },\n                  on: {\n                    click: () => {\n                      this.deleteResource(this.resources[params.index]['id']);\n                    }\n                  }\n                }, '删除'),\n              ]);\n            }\n          }\n        ],\n      }\n    },\n    methods:{\n      validateResource: async function(id){\n        const result = await ValidateResource(id);\n        if(result.status==\"SUCCESS\"){\n          this.$Message.success(\"验证通过!\");\n\n        }else{\n          this.$Message.error(\"验证失败!\" + result.errorMsg);\n        }\n      },\n      deleteResource: async function(id){\n        const result = await DeleteResource(id);\n        if(result.status==\"SUCCESS\"){\n          this.refreshResourceList();\n        }\n      },\n      refreshResourceList:async function () {\n        const result = await ResourceList(this.offset,this.current_page,this.search);\n        if(result.status==\"SUCCESS\"){\n          this.resources = result.resources;\n          this.total = result.paginator.totalcount;\n        }\n      },\n      handleChange(page){\n        this.current_page = page;\n        this.refreshResourceList();\n      },\n      handlePageSizeChange(pageSize){\n        this.offset = pageSize;\n        this.refreshResourceList();\n      },\n      handleSearch(data){\n        this.offset = 10;\n        this.current_page = 1;\n        this.search = data;\n        this.refreshResourceList();\n      }\n    },\n    mounted: function () {\n      this.refreshResourceList();\n    },\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IResource/ResourceList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin\":\"10px\"}},[_c('ISimpleLeftRightRow',{staticStyle:{\"margin-bottom\":\"10px\",\"margin-right\":\"10px\"}},[_c('ResourceEdit',{ref:\"resource_edit\",attrs:{\"slot\":\"left\"},on:{\"handleSuccess\":_vm.refreshResourceList},slot:\"left\"}),_vm._v(\" \"),_c('ISimpleSearch',{attrs:{\"slot\":\"right\"},on:{\"handleSimpleSearch\":_vm.handleSearch},slot:\"right\"})],1),_vm._v(\" \"),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.columns1,\"data\":_vm.resources,\"size\":\"small\"}}),_vm._v(\" \"),_c('Page',{attrs:{\"total\":_vm.total,\"page-size\":_vm.offset,\"show-total\":\"\",\"show-sizer\":\"\",\"styles\":{'text-align': 'center','margin-top': '10px'}},on:{\"on-change\":_vm.handleChange,\"on-page-size-change\":_vm.handlePageSizeChange}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ce609b4e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IResource/ResourceList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ce609b4e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ResourceList.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResourceList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ResourceList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ce609b4e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ResourceList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ce609b4e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IResource/ResourceList.vue\n// module id = null\n// module chunks = ","<template>\n  <Drawer title=\"全部组件\" placement=\"left\" :closable=\"true\" :mask=\"false\" scrollable v-model=\"showComponentDrawer\">\n    <Tabs value=\"name1\">\n      <TabPane label=\"组件\" name=\"name1\">\n        <span v-for=\"default_work_step_type in nodeMetas\"\n                draggable=\"true\" @dragstart=\"dragstart($event, 'work_type__' + default_work_step_type.name)\">\n         <Tag v-if=\"showComponent(default_work_step_type.name)\">{{default_work_step_type.name}}</Tag>\n        </span>\n      </TabPane>\n\n      <TabPane label=\"流程\" name=\"name2\">\n        <Collapse>\n          <Panel v-for=\"module_name in module_names\" :name=\"module_name\">\n            {{module_name}}\n            <div slot=\"content\">\n              <div v-if=\"work.module_name == module_name\" v-for=\"work in works\"\n                   draggable=\"true\" @dragstart=\"dragstart($event, 'work_name__' + work.work_name)\">\n                <Tag><span @click=\"$router.push({path:'/iwork/workList',query:{work_name:work.work_name}})\">{{ work.work_name }}</span></Tag>\n              </div>\n            </div>\n          </Panel>\n\n          <Panel name=\"all\">\n            全部\n            <div slot=\"content\">\n              <div v-for=\"work in works\"\n                   draggable=\"true\" @dragstart=\"dragstart($event, 'work_name__' + work.work_name)\">\n                <Tag><span @click=\"$router.push({path:'/iwork/workList',query:{work_name:work.work_name}})\">{{ work.work_name }}</span></Tag>\n              </div>\n            </div>\n          </Panel>\n        </Collapse>\n      </TabPane>\n    </Tabs>\n  </Drawer>\n</template>\n\n<script>\n  import {GetAllFiltersAndWorks, GetMetaInfo} from \"../../../api\"\n  import {oneOf} from \"../../../tools\"\n\n  export default {\n    name: \"WorkStepComponent\",\n    data(){\n      return {\n        showComponentDrawer:false,\n        nodeMetas: [],\n        works:[],\n        module_names:[],\n      }\n    },\n    methods:{\n      showComponent:function(name){\n        return !oneOf(name, ['work_start',\"work_end\"]);   // 开始和结束节点不能添加和拖拽\n      },\n      dragstart:function(event, transferData){\n        event.dataTransfer.setData(\"Text\", transferData);\n      },\n      toggleShow:function () {\n        this.showComponentDrawer = !this.showComponentDrawer;\n      },\n      refreshAllWorks:async function () {\n        const result = await GetAllFiltersAndWorks();\n        if(result.status == \"SUCCESS\"){\n          this.works = result.works;\n          let module_names = this.works.map(work => work.module_name);\n          this.module_names = this.getUniqueArr(module_names);\n        }\n      },\n      getUniqueArr: function(arr){\n        var x = new Set(arr);\n        return [...x];\n      },\n      refreshNodeMetas:async function () {\n        const result = await GetMetaInfo(\"nodeMetas\");\n        if(result.status == \"SUCCESS\"){\n          this.nodeMetas = result.nodeMetas;\n        }\n      }\n    },\n    mounted(){\n      this.refreshAllWorks();\n      this.refreshNodeMetas();\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/IWork/IWorkStep/WorkStepComponent.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Drawer',{attrs:{\"title\":\"全部组件\",\"placement\":\"left\",\"closable\":true,\"mask\":false,\"scrollable\":\"\"},model:{value:(_vm.showComponentDrawer),callback:function ($$v) {_vm.showComponentDrawer=$$v},expression:\"showComponentDrawer\"}},[_c('Tabs',{attrs:{\"value\":\"name1\"}},[_c('TabPane',{attrs:{\"label\":\"组件\",\"name\":\"name1\"}},_vm._l((_vm.nodeMetas),function(default_work_step_type){return _c('span',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, 'work_type__' + default_work_step_type.name)}}},[(_vm.showComponent(default_work_step_type.name))?_c('Tag',[_vm._v(_vm._s(default_work_step_type.name))]):_vm._e()],1)})),_vm._v(\" \"),_c('TabPane',{attrs:{\"label\":\"流程\",\"name\":\"name2\"}},[_c('Collapse',[_vm._l((_vm.module_names),function(module_name){return _c('Panel',{attrs:{\"name\":module_name}},[_vm._v(\"\\n          \"+_vm._s(module_name)+\"\\n          \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((_vm.works),function(work){return (work.module_name == module_name)?_c('div',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, 'work_name__' + work.work_name)}}},[_c('Tag',[_c('span',{on:{\"click\":function($event){_vm.$router.push({path:'/iwork/workList',query:{work_name:work.work_name}})}}},[_vm._v(_vm._s(work.work_name))])])],1):_vm._e()}))])}),_vm._v(\" \"),_c('Panel',{attrs:{\"name\":\"all\"}},[_vm._v(\"\\n          全部\\n          \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},_vm._l((_vm.works),function(work){return _c('div',{attrs:{\"draggable\":\"true\"},on:{\"dragstart\":function($event){_vm.dragstart($event, 'work_name__' + work.work_name)}}},[_c('Tag',[_c('span',{on:{\"click\":function($event){_vm.$router.push({path:'/iwork/workList',query:{work_name:work.work_name}})}}},[_vm._v(_vm._s(work.work_name))])])],1)}))])],2)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-04fa9318\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/IWork/IWorkStep/WorkStepComponent.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-04fa9318\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./WorkStepComponent.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkStepComponent.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./WorkStepComponent.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-04fa9318\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./WorkStepComponent.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-04fa9318\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/IWork/IWorkStep/WorkStepComponent.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}