webpackJsonp([8],{"2cNV":function(e,t){},AJwM:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),r=a("Xxa5"),s=a.n(r),p=a("exGp"),d=a.n(p),o=a("GCuT"),l=a("gyMJ"),c={name:"AppidEdit",components:{ISimpleBtnTriggerModal:a("I1g2").a},data:function(){return{formValidate:{id:0,app_name:"",app_desc:""},ruleValidate:{app_name:[{required:!0,message:"app_name 不能为空!",trigger:"blur"}],app_desc:[{required:!0,message:"app_desc 不能为空!",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t,a=this;this.$refs[e].validate((t=d()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,Object(l.l)({id:a.formValidate.id,app_name:a.formValidate.app_name,app_desc:a.formValidate.app_desc});case 3:"SUCCESS"==e.sent.status?(a.$Message.success("提交成功!"),a.$refs.triggerModal.hideModal(),a.$emit("handleSuccess")):a.$Message.error("提交失败!");case 5:case"end":return e.stop()}},e,a)})),function(e){return t.apply(this,arguments)}))},handleReset:function(e){this.$refs[e].resetFields()},initData:function(e){this.formValidate=e,this.$refs.triggerModal.triggerClick()}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ISimpleBtnTriggerModal",{ref:"triggerModal",attrs:{"btn-text":"新增 Appid","btn-size":"small","modal-title":"新增/编辑 Appid","modal-top":"50px","modal-width":600}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":140}},[a("FormItem",{attrs:{label:"app_name",prop:"app_name"}},[a("Input",{attrs:{placeholder:"请输入 app_name"},model:{value:e.formValidate.app_name,callback:function(t){e.$set(e.formValidate,"app_name","string"==typeof t?t.trim():t)},expression:"formValidate.app_name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"app_desc",prop:"app_desc"}},[a("Input",{attrs:{type:"textarea",rows:3,placeholder:"请输入 app_desc"},model:{value:e.formValidate.app_desc,callback:function(t){e.$set(e.formValidate,"app_desc","string"==typeof t?t.trim():t)},expression:"formValidate.app_desc"}})],1),e._v(" "),a("FormItem",[a("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"success"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("提交")]),e._v(" "),a("Button",{staticStyle:{"margin-right":"6px"},attrs:{type:"warning"},on:{click:function(t){e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var f={name:"AppidList",components:{AppidEdit:a("VU/8")(c,u,!1,function(e){a("2cNV")},"data-v-6976fedc",null).exports},data:function(){var e=this;return{current_page:1,total:0,offset:10,appids:[],columns1:[{title:"app_name",key:"app_name",width:230},{title:"app_desc",key:"app_desc",width:350},{title:"last_updated_by",key:"last_updated_by",width:150},{title:"last_updated_time",key:"last_updated_time",width:150,render:function(e,t){return e("div",Object(o.f)(new Date(t.row.last_updated_time),"yyyy-MM-dd hh:mm"))}},{title:"操作",key:"operate",width:280,fixed:"right",render:function(t,a){return t("div",[t("Button",{props:{type:"info",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.$refs.appid_edit.initData(e.appids[a.index])}}},"编辑"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.deleteAppid(e.appids[a.index].id)}}},"删除"),t("Button",{props:{type:"success",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.chooseAppid(e.appids[a.index])}}},"选择")])}}]}},methods:{handleChange:function(e){this.current_page=e,this.refreshAppIdList()},handlePageSizeChange:function(e){this.offset=e,this.refreshAppIdList()},refreshAppIdList:function(){var e=d()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l._0)(this.offset,this.current_page,this.search);case 2:"SUCCESS"==(t=e.sent).status&&(this.appids=t.appids);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),deleteAppid:function(){var e=d()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.e)({id:t});case 2:"SUCCESS"==e.sent.status&&this.refreshAppIdList();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),chooseAppid:function(e){localStorage.setItem("iwork_appId",n()(e)),this.$router.go(0)}},mounted:function(){this.refreshAppIdList()}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{"margin-bottom":"5px"}},[a("AppidEdit",{ref:"appid_edit",on:{handleSuccess:e.refreshAppIdList}})],1),e._v(" "),a("Table",{attrs:{border:"",columns:e.columns1,data:e.appids,size:"small"}}),e._v(" "),a("Page",{attrs:{total:e.total,"page-size":e.offset,"show-total":"","show-sizer":"",styles:{"text-align":"center","margin-top":"10px"}},on:{"on-change":e.handleChange,"on-page-size-change":e.handlePageSizeChange}})],1)},staticRenderFns:[]};var h=a("VU/8")(f,m,!1,function(e){a("t2Cj")},"data-v-dbef48fe",null);t.default=h.exports},t2Cj:function(e,t){}});
//# sourceMappingURL=8.87629cc4c4dbddec09c4.js.map